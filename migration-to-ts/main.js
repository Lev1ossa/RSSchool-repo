(()=>{"use strict";var e={659:(e,t,r)=>{r.r(t)},283:(e,t,r)=>{r.r(t)},485:(e,t,r)=>{r.r(t)},717:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(r(842)),s=r(527);t.default=class{constructor(){this.controller=new n.default,this.view=new s.AppView}start(){const e=document.querySelector(".sources");null==e||e.addEventListener("click",(e=>this.controller.getNews(e,(e=>{e&&this.view.drawNews(e)})))),this.controller.getSources((e=>{e&&this.view.drawSources(e)}))}}},853:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(r(24));class s extends n.default{constructor(){super("https://rss-news-api.onrender.com/",{apiKey:"1b6714bc3f3c48d6ac3239ae1f78c017"})}}t.default=s},842:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(604),s=o(r(853));class u extends s.default{getSources(e){super.getResp({endpoint:n.Endpoints.sources},e)}getNews(e,t){let r=e.target;const o=e.currentTarget;for(;r!==o;){if(r.classList.contains("source__item")){const e=r.getAttribute("data-source-id");return void(e&&o.getAttribute("data-source")!==e&&(o.setAttribute("data-source",e),super.getResp({endpoint:n.Endpoints.everything,options:{sources:e}},t)))}r=r.parentNode}}}t.default=u},24:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=r(604);t.default=class{constructor(e,t){this.baseLink=e,this.options=t}getResp({endpoint:e,options:t={}},r=(()=>{console.error("No callback for GET response")})){this.load("GET",e,r,t)}errorHandler(e){if(!e.ok)throw e.status!==o.Errors.error401&&e.status!==o.Errors.error404||console.log(`Sorry, but there is ${e.status} error: ${e.statusText}`),Error(e.statusText);return e}makeUrl(e,t){const r=Object.assign(Object.assign({},this.options),e);let o=`${this.baseLink}${t}?`;return Object.keys(r).forEach((e=>{o+=`${e}=${r[e]}&`})),o.slice(0,-1)}load(e,t,r,o){fetch(this.makeUrl(o,t),{method:e}).then(this.errorHandler).then((e=>e.json())).then((e=>r(e))).catch((e=>console.error(e)))}}},459:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.initColorTheme=void 0,t.initColorTheme=function(){const e=document.querySelector(".theme-button"),t=document.querySelector(".body");e.addEventListener("click",(()=>{t.classList.contains("dark-theme")?t.classList.remove("dark-theme"):t.classList.add("dark-theme")}))}},527:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AppView=void 0;const n=o(r(798)),s=o(r(53));class u{constructor(){this.news=new n.default,this.sources=new s.default}drawNews(e){const t=(null==e?void 0:e.articles)?null==e?void 0:e.articles:[];this.news.draw(t)}drawSources(e){const t=(null==e?void 0:e.sources)?null==e?void 0:e.sources:[];this.sources.draw(t)}}t.AppView=u,t.default=u},798:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(659);const n=o(r(425));t.default=class{draw(e){const t=e.length>=10?e.filter(((e,t)=>t<10)):e,r=document.createDocumentFragment(),o=document.querySelector("#newsItemTemp");t.forEach(((e,t)=>{var s;const u=o.content.cloneNode(!0);t%2&&(null===(s=null==u?void 0:u.querySelector(".news__item"))||void 0===s||s.classList.add("alt")),(null==u?void 0:u.querySelector(".news__meta-photo")).style.backgroundImage=`url(${e.urlToImage||n.default})`,(null==u?void 0:u.querySelector(".news__meta-author")).textContent=e.author||e.source.name,(null==u?void 0:u.querySelector(".news__meta-date")).textContent=e.publishedAt.slice(0,10).split("-").reverse().join("-"),(null==u?void 0:u.querySelector(".news__description-title")).textContent=e.title,(null==u?void 0:u.querySelector(".news__description-source")).textContent=e.source.name,(null==u?void 0:u.querySelector(".news__description-content")).textContent=e.description,(null==u?void 0:u.querySelector(".news__read-more a")).setAttribute("href",e.url),u&&r.append(u)}));const s=document.querySelector(".news");s.innerHTML="",s.appendChild(r)}}},53:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),r(283),t.default=class{draw(e){const t=document.createDocumentFragment(),r=document.querySelector("#sourceItemTemp");e.forEach((e=>{const o=r.content.cloneNode(!0);(null==o?void 0:o.querySelector(".source__item-name")).textContent=e.name,(null==o?void 0:o.querySelector(".source__item")).setAttribute("data-source-id",e.id),o&&t.append(o)})),document.querySelector(".sources").append(t)}}},607:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(r(717));r(485);const s=r(459);(new n.default).start(),(0,s.initColorTheme)()},604:(e,t)=>{var r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.Errors=t.Endpoints=void 0,function(e){e.everything="everything",e.sources="sources"}(r||(t.Endpoints=r={})),function(e){e[e.error401=401]="error401",e[e.error404=404]="error404"}(o||(t.Errors=o={}))},425:(e,t,r)=>{e.exports=r.p+"5c59b3da38316893aef6.png"}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,r),s.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var n=o.length-1;n>-1&&!e;)e=o[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),r(607)})();